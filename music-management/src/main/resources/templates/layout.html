<!DOCTYPE html>
    <html lang="ja" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
    <head th:fragment="head(title,links)">
        <meta charset="UTF-8">
        <title th:text="${title}">Title</title>
         <!-- <link rel="icon" th:href="@{/ico/nikukyuu.ico}" type="image/x-icon"> -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <th:block th:replace="${links} ?: _"/>
          <link rel="stylesheet" th:href="@{/css/layout.css}">
        </th:block>
        <script>
            window.addEventListener('DOMContentLoaded', () => {
              const bgm = document.getElementById('bgm');
              const toggle = document.getElementById('bgm-toggle');
              bgm.volume = 0.02;
             toggle.addEventListener('click', () => {
                if (bgm.paused) {
                    bgm.play();
                    toggle.textContent = '停止';
                } else {
                    bgm.pause();
                    toggle.textContent = '再生';
                }
               });
            });
        </script>

    </head>
    <body>
    <div th:fragment="header" style="margin-left: 0px;">
        <header style="margin-top: 20px;">
        <ul style="left: 0px;display: flex;">
            <img th:src="@{/img/logo.png}"alt="ロゴ" style="width: 220px; height: 80px;left: 50%;margin-right: 30px;margin-left: 20px;">
            <button sec:authorize="isAuthenticated()"class="btn btn-primary"style="background-color:#ffff93;border:2px solid #ffa500; width: 130px; height: 70px;"><a th:href="@{/albums}"style="Text-decoration: none;color:#ffa500;"><img th:src="@{/img/home.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">ホーム</a></button>
            <button sec:authorize="isAuthenticated()"class="btn btn-primary"style="background-color:#ffff93;border:2px solid #ffa500; width: 130px; height: 70px;"><a th:href="@{/albums/new}"style="Text-decoration: none;color:#ffa500;"><img th:src="@{/img/add.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">追加</a></button>
            <button sec:authorize="isAuthenticated()"class="btn btn-primary"style="background-color:#ffff93;border:2px solid #ffa500; width: 130px; height: 70px;"><a th:href="@{/albums/detail}"style="Text-decoration: none;color:#ffa500;"><img th:src="@{/img/memo.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">編集</a></button>
            <button sec:authorize="isAuthenticated()"class="btn btn-primary"style="background-color:#ffff93;border:2px solid #ffa500; width: 130px; height: 70px;"><a th:href="@{/albums/budget-23}"style="Text-decoration: none;color:#ffa500;"><img th:src="@{/img/en.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">予算</a></button>
            <div sec:authorize="isAuthenticated()">
                <form th:action="@{/logout}" method="post">
                    <button type="submit"class="btn btn-primary"style="margin-right: 20px;color:#ffa500;background-color:#ffff93;border:2px solid #ffa500; width: 150px; height: 70px;"><img th:src="@{/img/out.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">ログアウト</button>
                </form>
            </div>
            <div sec:authorize="isAuthenticated()">
                  <button id="bgm-toggle"class="btn btn-primary"style="margin-left:330px;color:#ffa500;background-color:#ffff93;border:2px solid #ffa500; width: 150px; height: 70px;"><img th:src="@{/img/music.png}"alt="ホーム" style="width: 50px; height: 50px;margin-right: 10px;">BGM</button>
                  <audio id="bgm" src="/bgm/ころころこねこ.mp3" loop></audio>
            </div>      
        </ul>
        </header>
    </div>
    </body>
</html>